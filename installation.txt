Installation
============

[[Parent]]: remark.txt

Remark was programmed using Python 2.7. Thus it should run in any
Python 2.x interpreter, where x is at least 7. Note that the syntaxes of 
Python 3.x and Python 2.x are not compatible.

Python dependencies
-------------------

The dependencies to other Python libraries are as follows:
 
### [Python Markdown 2.0][PythonMarkdown20]

This library is used to convert Markdown to Html. Note that the newer 
[Python Markdown 2.2][PythonMarkdown22] does not work with Remark, because 
it does not support Markdown inside html blocks.
 
### [Pygments 1.5][Pygments]

This library is used to highlight source code. 
 
### [Python Imaging Library 1.1.7][PIL]

This library is used to create thumbnails for image galleries.

[PythonMarkdown20]: http://freewisdom.org/projects/python-markdown/
[PythonMarkdown22]: http://packages.python.org/Markdown
[Pygments]: http://pygments.org/
[PIL]: http://www.pythonware.com/products/pil/
 
Javascript dependencies
-----------------------

The Javascript dependencies are on a per-page basis depending on 
which features the page uses. The dependencies to Javascript libraries 
are as follows.

### [Highslide][Highslide]

This library is used to view image galleries. 
We distribute it with Remark.
 
### [AsciiMathML][AsciiMathML]

This library is used to convert AsciiMath to MathML. 
We distribute it with Remark.

[Highslide]: http://highslide.com/
[AsciiMathML]: http://www1.chapman.edu/~jipsen/asciimath.html

Windows and 32-bit Python
-------------------------

The following summarizes the installation on Windows with 
32-bit Python installed.

The easiest way to install Remark is to make sure that you have the 32-bit 
Python installed (not 64-bit). The 64-bit version is problematic because it 
often happens that there is no installer for a 64-bit version of a Python 
library. In particular, such an installer is missing for Python Markdown. 
Naturally, you should then install all the Python libraries as 32-bit.

On Windows 7 (and Vista?), make sure that you run all 
the installers as an administrator (right click --> run as administrator). 
Otherwise, for example, the Python Markdown installer complains of not 
being able to add keys into the registry.

* Download and install Python from [here][Python_Installer].
* Download and install SetupTools from [here][SetupTools_Installer].
  This installs the `easy_install` tool used to install Pygments.
* Download and install Python Imaging Library from [here][PIL_Installer].

[Python_Installer]: http://www.python.org/download/
[PIL_Installer]: http://www.pythonware.com/products/pil/
[SetupTools_Installer]: http://pypi.python.org/pypi/setuptools

Open the command-line, and type in:

	easy_install pip

This installs the newer [Python package installer][PIP]. Then type:

	easy_install Pygments

This installs the [Pygments][Pygments] library. Finally, type:

	pip install markdown==2.0.0

This installs the [Python Markdown 2.0][PythonMarkdown20] library.
Note that the newer [Python Markdown 2.2][PythonMarkdown22] does not
work with Remark, because it does not support Markdown inside
html blocks.

[PIP]: http://www.pip-installer.org/en/latest/index.html

Windows and 64-bit Python
-------------------------

The following summarizes the installation on Windows with 
64-bit Python installed.

The steps are the same as for Windows and 32-bit Python. However,
the installers for the Python Markdown 2.0 and Python Imaging
Library 1.1.7 do not work straightforwardly in Windows 7 (when 
writing this in 18.06.2012) if you have 64-bit Python installed. 
The solution for the Python Imaging Library is to obtain a 64-bit 
installer from [here][PIL-64].

[PIL-64]: http://www.lfd.uci.edu/~gohlke/pythonlibs/

The solution for the Markdown installer is to first write the 
following in Notepad:

	Windows Registry Editor Version 5.00 

	[HKEY_CURRENT_USER\Software\Python] 
	[HKEY_CURRENT_USER\Software\Python\Pythoncore]
	[HKEY_CURRENT_USER\Software\Python\Pythoncore\2.7] 
	[HKEY_CURRENT_USER\Software\Python\Pythoncore\2.7\InstallPath]
	@="C:\\Python27" 
	[HKEY_CURRENT_USER\Software\Python\Pythoncore\2.7\PythonPath]
	@="C:\\Python27;C:\\Python27\\Lib\\;C:\\Python27\\DLLs\\"

save this in a file with extension .reg, and then run it using 
Registry Editor (right click --> Open with). Do note to replace 
the Python version, and the Python directory above if they are not 
what you use. At first it would seem that this also helps 
with the Python Imaging Library installer (32-bit version); although 
the installation completes, the library does not work.

Summary
-------

After installing Python, Python Markdown, Python Imaging Library, 
and Pygments, you should be ready to use Remark. 

See also
--------

[[Link]]: license_matters.txt


